!function(e){"use strict";var t=".predic-widget-img-uploader__input",i=".predic-widget-img-uploader__preview",r=".predic-widget-img-uploader__wrapper";e(document).ready(function(){e(document).on("click",".predic-widget-img-uploader__select",function(n){n.preventDefault();var d,a,l=e(this),p=l.parent(r).find(t),c=l.parent(r).find(i);if(d)return void d.open();d=wp.media.frames.file_frame=wp.media({title:predic_widget_uploader_field.uploader_title,button:{text:predic_widget_uploader_field.button_text},multiple:!1}),d.on("select",function(){a=d.state().get("selection").first().toJSON(),p.val(a.id),p.trigger("change"),c.html('<img src="'+a.url+'" />')}),d.open()}),e(document).on("click",".predic-widget-img-uploader__clear",function(n){n.preventDefault();var d=e(this),a=d.parent(r).find(t);a.val(""),a.trigger("change"),d.parent(r).find(i).html("")}),e(document).on("click",".predic-widget-img-uploader__default",function(n){n.preventDefault();var d=e(this),a=d.data("url"),l=d.parent(r).find(t);l.val(a),l.trigger("change"),d.parent(r).find(i).html('<img src="'+a+'" />')})})}(jQuery);